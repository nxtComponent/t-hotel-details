<link rel="import" href="../paper-icon-button/paper-icon-button.html">
<link rel="import" href="../paper-menu-button/paper-menu-button.html">
<!--
A comment describing this element

Example:

    <my-elem></my-elem>

Example:

    <my-elem>
      <h2>Hello my-elem</h2>
    </my-elem>

@demo demo/index.html
-->
<dom-module id="hotel-room">
    <template>
        <style include="hotel-details-styles">
        :host {
            --rating-icon-size: 14px;
            --rating-ink-color: var(--shade-semidark);
            --rating-icon-color: transparent;
            --info-content: {
                line-height: 1.2;
            }
            ;
        }
        
        h3,
        h5,
        .daily-price {
            font-size: 14px;
            color: var(--shade-dark);
        }
        
        dl {
            @apply(--layout-horizontal);
            @apply(--layout-center);
            @apply(--layout-wrap);
            margin: 5px 0 10px 0;
        }
        
        dd {
            font-size: 12px;
            color: var(--shade-semidark);
            padding: 0 5px;
            line-height: 18px;
            border-right: 1px solid var(--shade-semidark);
        }
        
        dd:last-child {
            border: 0;
        }
        
        dd:first-child {
            padding-left: 0;
        }
        
        .image-container {
            height: 150px;
            position: relative;
        }
        
        figure {
            width: 100%;
            height: 100%;
            background: no-repeat center center;
            -webkit-background-size: contain;
            background-size: cover;
        }
        
        #clickImage {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            text-decoration: none;
            @apply(--layout-horizontal);
            @apply(--layout-center);
            @apply(--layout-center-justified);
        }
        
        #imgButton {
            background: var(--link-color);
            color: #fff;
            opacity: 0.54;
            border-radius: 50%;
        }
        
        .offer-info,
        .demand-info {
            color: var(--app-red-color);
            line-height: 14px;
            margin: 6px 0;
            font-weight: 500;
        }
        
        .amenities-info {
            color: var(--shade-semidark);
            line-height: 18px;
            margin: 6px 0;
        }
        
        .discount {
            background: var(--app-red-color);
            padding: 5px;
            color: var(--discount-color, #fff);
            border-radius: 2px;
            line-height: 30px;
        }
        
        .originalPrice {
            font-size: 16px;
            text-decoration: line-through;
            color: var(--shade-semidark);
            margin-left: 10px;
        }
        
        .dailybtn {
            position: relative;
        }
        
        #dailyRateButton {
            background: var(--shade-semidark);
            border: 0;
            border-radius: 50%;
            padding: 5px;
            width: 20px;
            height: 20px;
            line-height: 9px;
            font-size: 9px;
            color: #fff;
        }
        
        .arrow-up {
            position: absolute;
            bottom: -12px;
            left: 5px;
            width: 0;
            height: 0;
            border-left: 15px solid transparent;
            border-right: 15px solid transparent;
            border-bottom: 15px solid #d1d1d1;
            z-index: 1;
        }
        
        [slot="dropdown-content"] {
            position: relative;
            padding: 20px;
            color: var(--shade-dark);
            background: #d1d1d1;
        }
        
        .daily-item {
            @apply(--layout-flex);
            min-width: 40px;
        }
        
        .base-price {
            font-size: 18px;
            line-height: 38px;
            color: var(--shade-dark);
            font-weight: 500;
        }
        
        .discounted-price {
            color: var(--app-red-color);
        }
        
        .avg-daily-info {
            font-size: 12px;
            color: var(--shade-light);
            transform: translateY(-10px);
        }
        
        .extra-discount-info {
            margin: 5px 0;
            line-height: 2;
            font-size: 12px;
        }
        
        .extra-discount-info .discount {
            line-height: 24px;
        }
        
        .price-container {
            @apply(--layout-start);
        }
        
        .price-container > div {
            @apply(--layout-flex);
        }
        
        .final-price {
            color: var(--shade-dark);
            font-size: 24px;
            line-height: 38px;
        }
        
        paper-button {
            border: 1px solid var(--link-color);
            color: var(--link-color);
            margin: 0;
        }
        
        paper-button[active] {
            color: #fff;
            background-color: var(--link-color);
        }
        
        @media (min-width: 550px) {
            .box-shadow {
                @apply(--container-shadow);
            }
            .main-container > div {
                border-right: 1px solid var(--shade-superlight);
                padding: 10px;
            }
            .base-price-container {
                @apply(--layout-end-justified);
            }
            .avg-daily-info {
                transform: none;
            }
            .amenities-info {
                font-size: 12px;
                @apply(--layout-horizontal);
                @apply(--layout-center);
            }
            .image-container {
                height: 100px;
                max-width: 250px;
            }
            .amenities-info iron-icon {
                width: 8px;
                min-width: 8px;
                height: 8px;
                min-height: 8px;
                background: var(--trust-you-green-color);
                color: #fff;
                margin-right: 10px;
                border-radius: 50%;
                padding: 2px;
            }
        }
        @media (min-width: 1024px){
            .image-container {
                height: 120px;
            }
        }
        </style>
        <div class="main-container box-shadow room-grid">
            <div class="hotel-details-container first">
                <h3>[[room.description]]</h3>
                <dl>
                    <dd>1 king Bed</dd>
                    <dd>Lake view</dd>
                    <dd>568 sq feet</dd>
                    <dd>2 guests</dd>
                </dl>
                <div class="image-container">
                    <figure id="image" style$="background-image:url('[[hotelImage]]')"></figure>
                    <a href="#" id="clickImage" on-click="_clickedImage">
                        <paper-icon-button tabindex="-1" id="imgButton" icon="icons:search"></paper-icon-button>
                    </a>
                </div>
                <p class="offer-info">Limited Time: 1 night free on 3 nights booking.</p>
                <p class="amenities-info mobile-view">Air conditioned, 1 king Bed, Lake view, 568 sq feet, 2 guests</p>
                <div class="mobile-view">
                    <p class="demand-info">In demand - only 3 rooms left</p>
                    <p class="discount-info">
                        <span class="discount">-[[price.discount]]</span>
                        <span class="originalPrice margin-r-small">[[price.originalPrice]]</span>
                    </p>
                    <div class="price-container row">
                        <div>
                            <div class="base-price-container row">
                                <p class$="base-price {{_findPriceDiscount(price.discount)}}">
                                    $550
                                </p>
                                <paper-menu-button opened="{{menuOpened}}" class="dailybtn" vertical-align="top" vertical-offset="50">
                                    <button slot="dropdown-trigger" id="dailyRateButton">i
                                        <i class="arrow-up" hidden$="[[!menuOpened]]"></i>
                                    </button>
                                    <div slot="dropdown-content">
                                        <h5 class="rate-headline">Daily rate</h5>
                                        <p>Week 1</p>
                                        <div class="row">
                                            <div class="daily-item">
                                                <p class="daily-days">Thu</p>
                                                <p class="daily-price">$400</p>
                                            </div>
                                            <div class="daily-item">
                                                <p class="daily-days">Fri</p>
                                                <p class="daily-price">$303</p>
                                            </div>
                                            <div class="daily-item">
                                                <p class="daily-days">Sat</p>
                                                <p class="daily-price">$999</p>
                                            </div>
                                            <div class="daily-item">
                                                <p class="daily-days">Sun</p>
                                                <p class="daily-price">$919</p>
                                            </div>
                                            <div class="daily-item">
                                                <p class="daily-days">Mon</p>
                                                <p class="daily-price">$121</p>
                                            </div>
                                        </div>
                                    </div>
                                </paper-menu-button>
                            </div>
                            <p class="avg-daily-info">avg night fare</p>
                            <p class="extra-discount-info"><span class="discount ">Book now pay later</span></p>
                            <p class="extra-discount-info"><span class="discount ">Free cancelation</span></p>
                        </div>
                        <div class="right-container text-right">
                            <h4 class="final-price">
                            $400
                        </h4>
                            <p class="avg-daily-info">2 night fare</p>
                            <paper-button toggles active="{{btnActive}}">
                                <span hidden$="[[btnActive]]">Select</span>
                                <span hidden$="[[!btnActive]]">Selected</span>
                            </paper-button>
                        </div>
                    </div>
                </div>
                <hotel-details-info no-heading id="text" text-content="The mobile web is too slow. Over the years the web has evolved from a document-centric platform to a first-class application platform. Thanks to advancements in the platform itself (such as Service Workers) and in the tools and techniques we use to build apps, users can do virtually anything on the web they can do in a native app. At the same time, the bulk of our computing has moved " collapse-length="50"></hotel-details-info>
            </div>
            <div class="not-mobile text-center second">
                <star-rating class="margin-b" icon="accessibility" rating="3" hide-unselected></star-rating>
                <p class="guest-count">
                    3 guests
                </p>
            </div>
            <div class="not-mobile third">
                <ul>
                    <li class="amenities-info">
                        <iron-icon icon="icons:done"></iron-icon>
                        <span>Some Nice text</span>
                    </li>
                    <li class="amenities-info">
                        <iron-icon icon="icons:done"></iron-icon>
                        <span>Some Nice text</span>
                    </li>
                    <li class="amenities-info">
                        <iron-icon icon="icons:done"></iron-icon>
                        <span>Some Nice text</span>
                    </li>
                    <li class="amenities-info">
                        <iron-icon icon="icons:done"></iron-icon>
                        <span>Some Nice text</span>
                    </li>
                    <li class="amenities-info">
                        <iron-icon icon="icons:done"></iron-icon>
                        <span>Some Nice text</span>
                    </li>
                </ul>
            </div>
            <div class="not-mobile text-right fourth">
                <p class="demand-info">In demand - only 3 rooms left</p>
                <p class="discount-info">
                    <span class="discount">-[[price.discount]]</span>
                    <span class="originalPrice">[[price.originalPrice]]</span>
                </p>
                <div class="base-price-container row">
                    <p class$="base-price {{_findPriceDiscount(price.discount)}}">
                        $550
                    </p>
                    <paper-menu-button opened="{{menuOpened}}" class="dailybtn no-spacing-right" vertical-align="top" vertical-offset="50" horizontal-align="right" horizontal-offset="-20">
                        <button slot="dropdown-trigger" id="dailyRateButton">i
                            <i class="arrow-up" hidden$="[[!menuOpened]]"></i>
                        </button>
                        <div slot="dropdown-content" class="text-left">
                            <h5 class="rate-headline">Daily rate</h5>
                            <p>Week 1</p>
                            <div class="row">
                                <div class="daily-item">
                                    <p class="daily-days">Thu</p>
                                    <p class="daily-price">$400</p>
                                </div>
                                <div class="daily-item">
                                    <p class="daily-days">Fri</p>
                                    <p class="daily-price">$303</p>
                                </div>
                                <div class="daily-item">
                                    <p class="daily-days">Sat</p>
                                    <p class="daily-price">$999</p>
                                </div>
                                <div class="daily-item">
                                    <p class="daily-days">Sun</p>
                                    <p class="daily-price">$919</p>
                                </div>
                                <div class="daily-item">
                                    <p class="daily-days">Mon</p>
                                    <p class="daily-price">$121</p>
                                </div>
                            </div>
                        </div>
                    </paper-menu-button>
                </div>
                <p class="avg-daily-info">avg night fare</p>
            </div>
            <div class="not-mobile price-view last">
                <div class="price-container row">
                    <div class="right-container text-right">
                        <h4 class="final-price">
                            $400
                        </h4>
                        <p class="avg-daily-info">2 night fare</p>
                        <paper-button toggles active="{{btnActive}}">
                            <span hidden$="[[btnActive]]">Select</span>
                            <span hidden$="[[!btnActive]]">Selected</span>
                        </paper-button>
                        <p class="extra-discount-info"><span class="discount ">Book now pay later</span></p>
                        <p class="extra-discount-info"><span class="discount ">Free cancelation</span></p>
                    </div>
                </div>
            </div>
        </div>
    </template>
    <script>
    class HotelRoom extends Polymer.Element {
        static get is() {
            return 'hotel-room';
        }
        static get properties() {
            return {

                hotelImage: {
                    type: String,
                    value: 'http://d3mj096p5q0e20.cloudfront.net/fi/HBD/55610/043509a_hb_f_004.jpg'
                },
                /*
                 * rating: numbers of star selected (reflectToAttribute)
                 */
                room: {
                    type: Object,
                    value: {}
                }


            };
        }
        _findPriceDiscount(discount) {
            return discount ? 'discounted-price' : '';
        }
        _clickedImage(e) {
            e.preventDefault();
            this.dispatchEvent(new CustomEvent('room-image-clicked'), this.room);

        }

    }
    window.customElements.define(HotelRoom.is, HotelRoom);
    </script>
</dom-module>
